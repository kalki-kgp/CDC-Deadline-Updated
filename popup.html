<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CDC Dashboard</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <header class="header">
      <div class="title">
        <span class="dot"></span>
        <h1>Applied Companies</h1>
      </div>
      <div class="actions">
        <button id="refreshBtn" class="btn" title="Deep refresh from ERP">â†»</button>
        <button id="openERPBtn" class="btn" title="Open ERP">â†—</button>
        <button id="settingsBtn" class="btn" title="Settings">âš™</button>
      </div>
    </header>

    <section class="toolbar">
      <div class="search">
        <span class="icon">ğŸ”</span>
        <input id="searchInput" type="text" placeholder="Search company name" />
      </div>
      <div class="meta">
        <span id="count">0</span>
        <span class="sep">â€¢</span>
        <span id="updated">â€”</span>
      </div>
    </section>

    <section class="tabs">
      <button class="chip tab chip-green active" data-bucket="APPLIED">Applied <span class="num" id="cnt-applied">0</span></button>
      <button class="chip tab chip-yellow" data-bucket="OPEN">Can Apply <span class="num" id="cnt-open">0</span></button>
      <button class="chip tab chip-red" data-bucket="MISSED">Missed <span class="num" id="cnt-missed">0</span></button>
      <div class="spacer"></div>
      <label class="sort">
        <span>Sort</span>
        <select id="sortSelect">
          <option value="deadline_asc">Deadline â†‘</option>
          <option value="deadline_desc">Deadline â†“</option>
          <option value="name_asc">Company Aâ€“Z</option>
          <option value="name_desc">Company Zâ€“A</option>
        </select>
      </label>
    </section>

    <section id="progress" class="progress hidden" aria-live="polite">
      <div id="progressBar" class="progress-bar"></div>
      <div id="progressText" class="progress-text">Scanningâ€¦</div>
    </section>

    <main id="list" class="list" aria-live="polite"></main>

    <template id="itemTemplate">
      <article class="card" data-bucket="">
        <div class="card-title">
          <h2 class="company"></h2>
          <span class="chip chip-status">â€”</span>
        </div>
        <div class="details">
          <div><span class="label">Role:</span> <span class="role">â€”</span></div>
          <div><span class="label">CTC:</span> <span class="ctc">â€”</span></div>
          <div><span class="label">Deadline:</span> <span class="deadline">â€”</span></div>
        </div>
      </article>
    </template>

    <section id="empty" class="empty hidden">
      <div class="empty-emoji">ğŸ—‚ï¸</div>
      <div class="empty-title">Nothing to show</div>
      <div class="empty-sub">Adjust filters or open the ERP placement page; it auto-syncs here.</div>
    </section>

    <section id="settings" class="settings hidden">
      <h3>Colors</h3>
      <div class="row">
        <label>Applied (Y)</label>
        <input type="color" id="colorApplied" value="#a5fc03" />
      </div>
      <div class="row">
        <label>Can Apply</label>
        <input type="color" id="colorOpen" value="#ffea00" />
      </div>
      <div class="row">
        <label>Missed</label>
        <input type="color" id="colorMissed" value="#fc2403" />
      </div>
      <div class="row buttons">
        <button id="saveColorsBtn" class="btn">Save</button>
        <button id="resetColorsBtn" class="btn">Reset</button>
      </div>
    </section>

    <script src="popup.js"></script>
  </body>
  </html>
